<h1>INT</h1>
<p>系统中断</p>
<h2>中断向量表</h2>
<figure><table>
<thead>
<tr><th style='text-align:left;' >中断</th><th style='text-align:left;' >描述</th></tr></thead>
<tbody><tr><td style='text-align:left;' >INT 00H</td><td style='text-align:left;' >CPU: 除零错,或商不合法时触发</td></tr><tr><td style='text-align:left;' >INT 01H</td><td style='text-align:left;' >CPU: 单步陷阱,TF标记为打开状态时,每条指令执行后触发</td></tr><tr><td style='text-align:left;' >INT 02H</td><td style='text-align:left;' >CPU: <a href='http://zh.wikipedia.org/w/index.php?title=Non-maskable_interrupt&amp;action=edit&amp;redlink=1'>非可屏蔽中断</a>, 如 <a href='http://zh.wikipedia.org/wiki/開機自我測試'>开机自我测试</a> 时发生内存错误触发。</td></tr><tr><td style='text-align:left;' >INT 03H</td><td style='text-align:left;' >CPU: 第一个未定义的中断向量, 约定俗成仅用于调试程序</td></tr><tr><td style='text-align:left;' >INT 04H</td><td style='text-align:left;' >CPU: 算数溢出。通常由INTO指令在置溢出位时触发。</td></tr><tr><td style='text-align:left;' >INT 05H</td><td style='text-align:left;' >在按下Shift-<a href='http://zh.wikipedia.org/wiki/Print_Screen'>Print Screen</a>或BOUND指令检测到范围异常时触发。</td></tr><tr><td style='text-align:left;' >INT 06H</td><td style='text-align:left;' >CPU: 非法指令。</td></tr><tr><td style='text-align:left;' >INT 07H</td><td style='text-align:left;' >CPU: 没有<a href='http://zh.wikipedia.org/wiki/8087协处理器'>数学协处理器</a>时尝试执行浮点指令触发。</td></tr><tr><td style='text-align:left;' >INT 08H</td><td style='text-align:left;' >IRQ0: 可编程中断控制器每 55 毫秒触发一次，即每秒 18.2 次。</td></tr><tr><td style='text-align:left;' >INT 09H</td><td style='text-align:left;' >IRQ1: 每次键盘按下、按住、释放。</td></tr><tr><td style='text-align:left;' >INT 0AH</td><td style='text-align:left;' >IRQ2:</td></tr><tr><td style='text-align:left;' >INT 0BH</td><td style='text-align:left;' >IRQ3: <a href='http://zh.wikipedia.org/wiki/串口'>COM2/COM4</a>。</td></tr><tr><td style='text-align:left;' >INT 0CH</td><td style='text-align:left;' >IRQ4: <a href='http://zh.wikipedia.org/wiki/串口'>COM1/COM3</a>。</td></tr><tr><td style='text-align:left;' >INT 0DH</td><td style='text-align:left;' >IRQ5: 硬盘控制器（PC/XT 下）或 <a href='http://zh.wikipedia.org/wiki/并口'>LPT2</a>。</td></tr><tr><td style='text-align:left;' >INT 0EH</td><td style='text-align:left;' >IRQ6: 需要时由<a href='http://zh.wikipedia.org/wiki/軟碟控制器'>软碟控制器</a>呼叫。</td></tr><tr><td style='text-align:left;' >INT 0FH</td><td style='text-align:left;' >IRQ7: <a href='http://zh.wikipedia.org/wiki/并口'>LPT1</a>。</td></tr><tr><td style='text-align:left;' >INT 10H</td><td style='text-align:left;' >显示服务</td></tr><tr><td style='text-align:left;' >INT 11H</td><td style='text-align:left;' >返回设备列表</td></tr><tr><td style='text-align:left;' >INT 12H</td><td style='text-align:left;' >获取常规内存容量</td></tr><tr><td style='text-align:left;' >INT 13H</td><td style='text-align:left;' >低阶磁盘服务</td></tr><tr><td style='text-align:left;' >INT 14H</td><td style='text-align:left;' >串口通信例程</td></tr><tr><td style='text-align:left;' >INT 15H</td><td style='text-align:left;' >系统支持例程</td></tr><tr><td style='text-align:left;' >INT 16H</td><td style='text-align:left;' >键盘通信例程</td></tr><tr><td style='text-align:left;' >INT 17H</td><td style='text-align:left;' >打印服务</td></tr><tr><td style='text-align:left;' >INT 18H</td><td style='text-align:left;' >执行磁带上的 BASIC 程序<br>IBM 兼容机在 ROM 里内置 BASIC 程序，当引导失败时由 BIOS 调用此例程解释执行。</td></tr><tr><td style='text-align:left;' >INT 19H</td><td style='text-align:left;' ><a href='http://zh.wikipedia.org/wiki/加电自检'>加电自检</a>之后载入操作系统。</td></tr><tr><td style='text-align:left;' >INT 1AH</td><td style='text-align:left;' >时钟服务</td></tr><tr><td style='text-align:left;' >INT 1BH</td><td style='text-align:left;' >Ctrl+Break，由 IRQ 9 自动调用。</td></tr><tr><td style='text-align:left;' >INT 1CH</td><td style='text-align:left;' >预留，由 IRQ 8 自动调用。</td></tr><tr><td style='text-align:left;' >INT 1DH</td><td style='text-align:left;' >不可调用：指向视频参数表（包含视频模式的数据）的指针。</td></tr><tr><td style='text-align:left;' >INT 1EH</td><td style='text-align:left;' >不可调用：指向软盘模式表（包含关于软驱的大量信息）的指针。</td></tr><tr><td style='text-align:left;' >INT 1FH</td><td style='text-align:left;' >不可调用：指向视频图形字符表（包含从 80h 到 FFh 的 <a href='http://zh.wikipedia.org/wiki/EASCII'>ASCII</a> 字符的数据）的信息。</td></tr><tr><td style='text-align:left;' >INT 41H</td><td style='text-align:left;' >地址指针：硬盘参数表（第一硬盘）。</td></tr><tr><td style='text-align:left;' >INT 46H</td><td style='text-align:left;' >地址指针：硬盘参数表（第二硬盘）。</td></tr><tr><td style='text-align:left;' >INT 4AH</td><td style='text-align:left;' >实时钟在闹铃时调用。</td></tr><tr><td style='text-align:left;' >INT 70H</td><td style='text-align:left;' >IRQ8: 由实时钟调用。</td></tr><tr><td style='text-align:left;' >INT 74H</td><td style='text-align:left;' >IRQ12: 由鼠标调用</td></tr><tr><td style='text-align:left;' >INT 75H</td><td style='text-align:left;' >IRQ13: 由数学协处理器调用。</td></tr><tr><td style='text-align:left;' >INT 76H</td><td style='text-align:left;' >IRQ14: 由第一个 IDE 控制器所呼叫</td></tr><tr><td style='text-align:left;' >INT 77H</td><td style='text-align:left;' >IRQ15: 由第二个 IDE 控制器所呼叫</td></tr></tbody>
</table></figure>
<h3>DOS显示服务 INT 10H</h3>
<figure><table>
<thead>
<tr><th>AH</th><th>&nbsp;</th><th>入口参数</th><th>出口参数</th></tr></thead>
<tbody><tr><td>00H</td><td>设定显示模式</td><td>AL=00 40x25黑白字符方式<br>AL=01 40x25彩色字符方式<br>AL=02 80x25黑白字符方式<br>AL=03 80x25彩色字符方式<br>AL=04 320x200黑白字符方式<br>AL=05 320x200彩色字符方式<br>AL=06 640x200黑白字符方式</td><td>&nbsp;</td></tr><tr><td>01H</td><td>设定游标形态</td><td>CH低四位光标起始行<br>CL低四位光标结束行</td><td>&nbsp;</td></tr><tr><td>02H</td><td>设定游标位置</td><td>BH=页号<br>DH,DL=行,列</td><td>&nbsp;</td></tr><tr><td>03H</td><td>获取游标位置与形态</td><td>BH=页号</td><td>CH=光标起始行<br>DH,DL=行,列</td></tr><tr><td>04H</td><td>获取光笔位置</td><td>&nbsp;</td><td>AH=0 光笔未触发<br>AH=1 光笔触发<br>CX=像素行, BX=像素列<br>DH=字符行, DL=字符列</td></tr><tr><td>05H</td><td>设定显示页</td><td>AL=页号</td><td>&nbsp;</td></tr><tr><td>06H</td><td>屏幕初始化或卷轴画面(上)</td><td>AL=上卷行号<br>AL=0 整个窗口空白<br>BH=卷入行属性<br>CH=左上角行号<br>CL=左上角列号<br>DH=右下角行号<br>CL=右下角列号</td><td>&nbsp;</td></tr><tr><td>07H</td><td>屏幕初始化或卷轴画面(下)</td><td>AL=下卷行号<br>其余同上</td><td>&nbsp;</td></tr><tr><td>08H</td><td>读取游标处字符与属性</td><td>BH=显示页</td><td>AH=属性<br>AL=字符</td></tr><tr><td>09H</td><td>更改游标处字符与属性</td><td>BH=显示页, AL=字符<br>BL=属性, CX=字符重复次数</td><td>&nbsp;</td></tr><tr><td>0AH</td><td>更改游标处字符</td><td>BH=显示页, AL=字符<br>CX=字符重复次数</td><td>&nbsp;</td></tr><tr><td>0BH</td><td>置彩色调板(320X200图形)</td><td>BH=彩色调板ID<br>BL=和ID配套使用的颜色</td><td>&nbsp;</td></tr><tr><td>0CH</td><td>写像素</td><td>DX=行（0~199）<br>CX=列（0~639）<br>AL=像素值</td><td>&nbsp;</td></tr><tr><td>0DH</td><td>读像素</td><td>DX=行（0~199）<br>CX=列（0~639）</td><td>AL=像素值</td></tr><tr><td>0EH</td><td>显示字符（光标前移）</td><td>AL=字符<br>BL=前景色</td><td>&nbsp;</td></tr><tr><td>0FH</td><td>取得目前显示模式</td><td>&nbsp;</td><td>AH=字符列数<br>AL=显示方式</td></tr><tr><td>13H</td><td>写字符串（适用AT）</td><td>ES:BP=串地址<br>CX=串长度<br>DH,DL=其实行，列<br>BH=页号<br>AL=0, BL=属性<br>串：字符，字符……<br>AL=1, BL=<br>串：字符，字符，……<br>AL=2<br>串：字符，属性，字符，属性……<br>AL=3<br>串：字符，属性，字符，属性……</td><td><br><br><br><br>光标返回起始位置<br><br>光标跟随移动<br><br>光标返回起始位置<br><br>光标跟随移动<br></td></tr></tbody>
</table></figure>
<h3>DOS磁盘服务 INT 13H</h3>
<figure><table>
<thead>
<tr><th>AH</th><th>功能</th><th>入口参数</th><th>出口参数</th></tr></thead>
<tbody><tr><td>00H</td><td>软盘系统复位</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>01H</td><td>读软盘状态</td><td>&nbsp;</td><td>AL=状态字节</td></tr><tr><td>02H</td><td>读磁盘</td><td>AL=扇区数<br>CH,CL=磁道号，扇区号<br>DH,DL=磁关号，驱动器号<br>ES:BX=数据缓冲区地址</td><td>成功：<br>AH=0,AL=读取的扇区数<br>失败：<br>AH=出错代码</td></tr><tr><td>03H</td><td>写磁盘</td><td>同上</td><td>成功：<br>AH=0,AL=写入的扇区数<br>失败：<br>AH=出错代码</td></tr><tr><td>04H</td><td>检验磁盘扇区</td><td>同上，无ES:BX</td><td>成功：<br>AH=0,AL=检验的扇区数<br>失败：<br>AH=出错代码</td></tr><tr><td>05H</td><td>格式化磁盘磁道</td><td>ES:BX=磁道地址</td><td>成功：AH=0<br>失败：AH=出错代码</td></tr></tbody>
</table></figure>
<h3>DOS串口通信服务 INT 14H</h3>
<figure><table>
<thead>
<tr><th>AH</th><th>功能</th><th>入口参数</th><th>出口参数</th></tr></thead>
<tbody><tr><td>00H</td><td>初始化串行通讯口</td><td>AL=初始化参数<br>DX=通讯口号（0，1）</td><td>AH=通讯口状态<br>AL=调制解调器状态</td></tr><tr><td>01H</td><td>向串行通讯口写字符</td><td>AL=字符<br>DX=通讯口号（0，1）</td><td>成功：AH的D7位=0<br>成功：AH的D7位=1<br>AH的D6~D0位=通讯口状态</td></tr><tr><td>02H</td><td>从串行通讯口读字符</td><td>DX=通讯口号（0，1）</td><td>成功：<br>AH的D7位=0, AL=字符<br>失败：<br>AH的D7位=0<br>AH的D6~D0位=通讯口状态</td></tr><tr><td>03H</td><td>取通讯口状态</td><td>DX=通讯口号（0，1）</td><td>AH=通讯口状态<br>AL=调制解调器状态</td></tr></tbody>
</table></figure>
<h3>INT 15H 待补充</h3>
<h3>DOS键盘通信服务 INT 16H</h3>
<figure><table>
<thead>
<tr><th>AH</th><th>功能</th><th>调用参数</th><th>返回参数</th></tr></thead>
<tbody><tr><td>00H</td><td>从键盘读字符</td><td>&nbsp;</td><td>AL=字符码<br>AH=扫描码</td></tr><tr><td>01H</td><td>读键盘缓冲区字符</td><td>&nbsp;</td><td>ZF=0，AL=字符码<br>AH=扫描码</td></tr><tr><td>02H</td><td>取键盘状态</td><td>&nbsp;</td><td>AL=键盘状态字节</td></tr></tbody>
</table></figure>
<h3>DOS打印服务 INT 17H</h3>
<figure><table>
<thead>
<tr><th>AH</th><th>功能</th><th>调用参数</th><th>返回参数</th></tr></thead>
<tbody><tr><td>00H</td><td>打印字符，回送状态字节</td><td>AL=字符<br>DX=打印机号</td><td>AH=打印机状态字节</td></tr><tr><td>01H</td><td>初始化打印机，会送状态字符</td><td>DX=打印机号</td><td>AH=打印机状态字节</td></tr><tr><td>02H</td><td>取状态字节</td><td>DX=打印机号</td><td>AH=打印机状态字节</td></tr></tbody>
</table></figure>
<h3>DOS时钟服务 INT 1AH</h3>
<figure><table>
<thead>
<tr><th>AH</th><th>功能</th><th>调用参数</th><th>返回参数</th></tr></thead>
<tbody><tr><td>00H</td><td>读时钟</td><td>&nbsp;</td><td>CH:CL=时：分<br>DH:DL=秒：1/100秒</td></tr><tr><td>01H</td><td>置时钟</td><td>CH:CL=时：分<br>DH:DL=秒：1/100秒</td><td>&nbsp;</td></tr><tr><td>02H</td><td>读实时钟（适用AT）</td><td>&nbsp;</td><td>CH:CL=时：分（BCD）<br>DH:DL=秒：1/100秒（BCD）</td></tr><tr><td>03H</td><td>置实时钟（适用AT）</td><td>CH:CL=时：分（BCD）<br>DH:DL=秒：1/100秒（BCD）</td><td>&nbsp;</td></tr><tr><td>04H</td><td>读实时钟日期</td><td>&nbsp;</td><td>CX:DH:DL=年：月：日</td></tr><tr><td>05H</td><td>置实时钟日期</td><td>CX:DH:DL=年：月：日</td><td>&nbsp;</td></tr><tr><td>06H</td><td>置报警时间（适用AT）</td><td>CH:CL=时：分（BCD）<br>DH:DL=秒：1/100秒（BCD）</td><td>&nbsp;</td></tr><tr><td>07H</td><td>清除报警</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody>
</table></figure>
<h3>DOS系统功能 INT 21H</h3>
<figure><table>
<thead>
<tr><th>AH</th><th>功能</th><th>调用参数</th><th>返回参数</th></tr></thead>
<tbody><tr><td>00H</td><td>程序终止（同INT 20H）</td><td>CS=程序段前缀</td><td>&nbsp;</td></tr><tr><td>01H</td><td>键盘输入并回显</td><td>&nbsp;</td><td>AL=输入字符</td></tr><tr><td>02H</td><td>显示输出</td><td>DL=输出字符</td><td>&nbsp;</td></tr><tr><td>03H</td><td>异步通讯输入</td><td>&nbsp;</td><td>AL=输入数据</td></tr><tr><td>04H</td><td>异步通讯输出</td><td>DL=输出数据</td><td>&nbsp;</td></tr><tr><td>05H</td><td>打印机输出</td><td>DL=输出字符</td><td>&nbsp;</td></tr><tr><td>06H</td><td>直接控制台I/O</td><td>DL=FF（输入）<br>DL=字符（输出）</td><td>AL=输入字符</td></tr><tr><td>07H</td><td>键盘输入（无回显）</td><td>&nbsp;</td><td>AL=输入字符</td></tr><tr><td>08H</td><td>键盘输入（无回显）<br>检测Ctrl-Break</td><td>&nbsp;</td><td>AL=输入字符</td></tr><tr><td>09H</td><td>显示字符串</td><td>DS:DX=串地址<br>&#39;$&#39;结束字符串</td><td>&nbsp;</td></tr><tr><td>0AH</td><td>键盘输出到缓冲区</td><td>DS:DX=缓冲区首地址<br>（DS:DX=缓冲区最大字符数）</td><td>(DS:DX+1)=实际输入字符数量</td></tr><tr><td>0BH</td><td>检验键盘状态</td><td>&nbsp;</td><td>AL=00 有输入<br>AL= FF无输入</td></tr><tr><td>0CH</td><td>清除输入缓冲<br>请求指定的输入功能</td><td>AL=输入功能号<br>（1, 2, 7, 8, A）</td><td>&nbsp;</td></tr><tr><td>0DH</td><td>磁盘复位</td><td>&nbsp;</td><td>清除文件缓冲区</td></tr><tr><td>0EH</td><td>指定当前缺省的磁盘驱动器</td><td>DL=驱动器号<br>0=A, 1=B, …</td><td>AL=驱动器数</td></tr><tr><td>0FH</td><td>打开文件</td><td>DS:DX=FCB首地址</td><td>AL=00 文件找到<br>AL=FF 文件未找到</td></tr><tr><td>10H</td><td>关闭文件</td><td>DS:DX=FCB首地址</td><td>AL=00 目录修改成功<br>AL=FF 目录中未找到文件</td></tr><tr><td>11H</td><td>查找第一个目录项</td><td>DS:DX=FCB首地址</td><td>AL=00 找到<br>AL=FF 未找到</td></tr><tr><td>12H</td><td>查找下一个目录项</td><td>DS:DX=FCB首地址<br>（文件名中带*或?）</td><td>AL=00 找到<br>AL=FF 未找到</td></tr><tr><td>13H</td><td>删除文件</td><td>DS:DX=FCB首地址</td><td>AL=00 删除成功<br>AL=FF 未找到</td></tr><tr><td>14H</td><td>顺序读</td><td>DS:DX=FCB首地址</td><td>AL=00 读取成功<br>&emsp;=01 文件结束，记录中无数据<br>&emsp;=02 DATA空间不够<br>&emsp;=03 文件结束，记录不完整</td></tr><tr><td>15H</td><td>顺序写</td><td>DS:DX=FCB首地址</td><td>AL=00 写成功<br>&emsp;=01 盘满<br>&emsp;=02 DATA空间不够</td></tr><tr><td>16H</td><td>建文件</td><td>DS:DX=FCB首地址</td><td>AL=00 建立成功<br>&emsp;=FF 无磁盘空间</td></tr><tr><td>17H</td><td>文件改名</td><td>DS:DX=FCB首地址<br>(DS:DX+1)=旧文件名<br>(DS:DX+17)=新文件名</td><td>AL=00 成功<br>&emsp;=FF 未成功</td></tr><tr><td>19H</td><td>取当前缺省磁盘驱动器</td><td>&nbsp;</td><td>AL=缺省的驱动器号<br>0=A, 1=B, …</td></tr><tr><td>1AH</td><td>置DTA地址</td><td>DS：DX=DAT地址</td><td>&nbsp;</td></tr><tr><td>1BH</td><td>取缺省驱动器FAT信息</td><td>&nbsp;</td><td>AL=每簇的扇区数<br>DS:BX=FTA标识字节<br>CX=物理扇区的大小<br>DX=缺省驱动器的簇数</td></tr><tr><td>1CH</td><td>取任一驱动器的FAT信息</td><td>DL=驱动器号</td><td>同上</td></tr><tr><td>21H</td><td>随机读</td><td>DS:DX=FCB首地址</td><td>AL=00 读取成功<br>&emsp;=01 文件结束<br>&emsp;=02 缓冲区溢出<br>&emsp;=03 缓冲区不满</td></tr><tr><td>22H</td><td>随机写</td><td>DS:DX=FCB首地址</td><td>AL=00 写成功<br>&emsp;=01 盘满<br>&emsp;=02 缓冲区溢出</td></tr><tr><td>23H</td><td>测定文件大小</td><td>DS:DX=FCB首地址</td><td>AL=00 成功<br>文件长度填入FCB</td></tr><tr><td>24H</td><td>设置随机记录号</td><td>DS:DX=FCB首地址</td><td>&nbsp;</td></tr><tr><td>25H</td><td>设置中断向量</td><td>DS:DX=中断向量<br>AL=中断类型号</td><td>&nbsp;</td></tr><tr><td>26H</td><td>建立程序段前缀</td><td>DX=新的程序段的段前缀</td><td>&nbsp;</td></tr><tr><td>27H</td><td>随机分块读</td><td>DS:DX=FCB首地址<br>CX=记录数</td><td>AL=00 读成功<br>&emsp;=01 文件结束<br>&emsp;=02 缓冲区溢出，传输结束<br>&emsp;=03 缓冲区不满<br>CX=读取的记录数</td></tr><tr><td>28H</td><td>随机分块写</td><td>DS:DX=FCB首地址<br>CX=记录数</td><td>AL=00 写成功<br>&emsp;=01 盘满<br>&emsp;=02 缓冲区溢出</td></tr><tr><td>29H</td><td>分析文件名</td><td>ES:DI=FCB首地址<br>DS:DI=ACSII-Z串<br>AL=控制分析标志</td><td>AL=00 标准文件<br>&emsp;=01 多义文件<br>&emsp;=FF 非法盘符</td></tr><tr><td>2AH</td><td>取日期</td><td>&nbsp;</td><td>CX:DH:DL=年：月：日</td></tr><tr><td>2BH</td><td>设置日期</td><td>CX:DH:DL=年：月：日</td><td>AL=00 成功<br>&emsp;=FF 无效</td></tr><tr><td>2CH</td><td>取时间</td><td>&nbsp;</td><td>CH:CL=时：分<br>DH:DL=秒：1/100秒</td></tr><tr><td>2DH</td><td>设置时间</td><td>CH:CL=时：分<br>DH:DL=秒：1/100秒</td><td>AL=00 成功<br>&emsp;=FF 无效</td></tr><tr><td>2EH</td><td>置磁盘自动读写标志</td><td>AL=00 关闭标志<br>AL=01 打开标志</td><td>&nbsp;</td></tr><tr><td>2FH</td><td>取磁盘缓冲区的首地址</td><td>&nbsp;</td><td>ES:BX=缓冲区首地址</td></tr><tr><td>30H</td><td>取DOS版本号</td><td>&nbsp;</td><td>AH=发行号，AL=版号</td></tr><tr><td>31H</td><td>结束并驻留</td><td>AL=返回码<br>DX=驻留区大小</td><td>&nbsp;</td></tr><tr><td>33H</td><td>Ctrl-Break检测</td><td>AL=00 取状态<br>&emsp;=01 置状态(DL)<br>DL=00 关闭检测<br>&emsp;=01 打开检测</td><td>DL=00 关闭检测<br>&emsp;=01 打开检测</td></tr><tr><td>35H</td><td>取中断向量</td><td>AL=中断类型</td><td>ES:BX=中断向量</td></tr><tr><td>36H</td><td>取空闲磁盘空间</td><td>DL=驱动器号<br>0=缺省，1=A，2=B，……</td><td>成功：<br>&emsp;AX=每簇扇区数<br>&emsp;BX=有效簇数<br>&emsp;CX=每扇区字节数<br>&emsp;DX=总簇数<br>失败：<br>&emsp;AX=FFFF</td></tr><tr><td>38H</td><td>置/取国家信息</td><td>DS:DX=信息区首地址</td><td>BX=国家码（国际电话前缀码）<br>AX=错误码</td></tr><tr><td>39H</td><td>建立子目录(MKDIR)</td><td>DS:DX=ASCII-Z串地址</td><td>AX=错误码</td></tr><tr><td>3AH</td><td>删除子目录(BMDIR)</td><td>DS:DX=ASCII-Z串地址</td><td>AX=错误码</td></tr><tr><td>3BH</td><td>改变当前目录(CHDIR)</td><td>DS:DX=ASCII-Z串地址</td><td>AX=错误码</td></tr><tr><td>3CH</td><td>建立文件</td><td>DS:DX=ASCII-Z串地址<br>CX=文件属性</td><td>成功：AX=文件代号<br>失败：AX=错误码</td></tr><tr><td>3DH</td><td>打开文件</td><td><em>DS:DX=ASCIIZ</em>串地址<em><br>AL=0</em> 读<br>&emsp;=1写<br>&emsp;=3读写</td><td>成功：AX=文件代号<br>失败：AX=错误码</td></tr><tr><td>3EH</td><td>关闭文件</td><td>BX=文件代号</td><td>失败：AX=错误码</td></tr><tr><td>3FH</td><td>读文件或设备</td><td>DS:DX=数据缓冲区地址<br>BX=文件代号<br>CX=读取的字节数</td><td>成功:<br>AX=实际读入的字节数<br>AX=0 已到文件尾<br>出错:AX=错误码</td></tr><tr><td>40H</td><td>写文件或设备</td><td>DS:DX=数据缓冲区地址<br>BX=文件代号<br>CX=读取的字节数</td><td>成功:<br> AX=实际写入的字节数<br>出错:AX=错误码</td></tr><tr><td>41H</td><td>删除文件</td><td>DS:DX=ASCII-Z串地址</td><td>成功:AX=00<br>出错:AX=错误码(2,5)</td></tr><tr><td>42H</td><td>移动文件指针</td><td>BX=文件代号<br>CX:DX=位移量<br>AL=移动方式(0:从文件头绝对位移,1:从当前位置相对移动,2:从文件尾绝对位移)</td><td>成功:DX:AX=新文件指针位置<br>出错:AX=错误码</td></tr><tr><td>43H</td><td>置/取文件属性</td><td>DS:DX=ASCII-Z串地址<br>AL=0 取文件属性<br>AL=1 置文件属性<br>CX=文件属性</td><td>成功:CX=文件属性<br>失败:CX=错误码</td></tr><tr><td>44H</td><td>设备文件I/O控制</td><td>BX=文件代号<br>AL=0 取状态<br>&emsp;=1 置状态DX<br>&emsp;=2 读数据<br>&emsp;=3 写数据<br>&emsp;=6 取输入状态<br>&emsp;=7 取输出状态</td><td>DX=设备信息</td></tr><tr><td>45H</td><td>复制文件代号</td><td>BX=文件代号1</td><td>成功:AX=文件代号2<br>失败:AX=错误码</td></tr><tr><td>46H</td><td>人工复制文件代号</td><td>BX=文件代号1<br>CX=文件代号2</td><td>失败:AX=错误码</td></tr><tr><td>47H</td><td>取当前目录路径名</td><td>DL=驱动器号<br>DS:SI=ASCIIZ串地址</td><td>(DS:SI)=ASCIIZ串<br>失败:AX=出错码</td></tr><tr><td>48H</td><td>分配内存空间</td><td>BX=申请内存容量</td><td>成功:AX=分配内存首地<br>失败:BX=最大可用内存</td></tr><tr><td>49H</td><td>释放内容空间</td><td>ES=内存起始段地址</td><td>失败:AX=错误码</td></tr><tr><td>4AH</td><td>调整已分配的存储块</td><td>ES=原内存起始地址<br>BX=再申请的容量</td><td>失败:BX=最大可用空间<br>&emsp;AX=错误码</td></tr><tr><td>4BH</td><td>装配/执行程序</td><td>DS:DX=ASCIIZ串地址<br>ES:BX=参数区首地址<br>AL=0 装入执行<br>AL=3 装入不执行</td><td>失败:AX=错误码</td></tr><tr><td>4CH</td><td>带返回码结束</td><td>AL=返回码</td><td>&nbsp;</td></tr><tr><td>4DH</td><td>取返回代码</td><td>&nbsp;</td><td>AX=返回代码</td></tr><tr><td>4EH</td><td>查找第一个匹配文件</td><td>DS:DX=ASCII-Z串地址<br>CX=属性</td><td>AX=出错代码(02,18)</td></tr><tr><td>4FH</td><td>查找下一个匹配文件</td><td>DS:DX=ASCIIZ串地址<br>(文件名中带有?或*)</td><td>AX=出错代码(18)</td></tr><tr><td>54H</td><td>取盘自动读写标志</td><td>&nbsp;</td><td>AL=当前标志值</td></tr><tr><td>56H</td><td>文件改名</td><td>DS:DX=ASCIIZ串(旧)<br>ES:DI=ASCIIZ串(新)</td><td>AX=出错码(03,05,17)</td></tr><tr><td>57H</td><td>置/取文件日期和时间</td><td>BX=文件代号<br>AL=0 读取<br>AL=1 设置(DX:CX)</td><td>DX:CX=日期和时间<br>失败:AX=错误码</td></tr><tr><td>58H</td><td>取/置分配策略码</td><td>AL=0 取码<br>AL=1 置码(BX)</td><td>成功:AX=策略码<br>失败:AX=错误码</td></tr><tr><td>59H</td><td>取扩充错误码</td><td>&nbsp;</td><td>AX=扩充错误码<br>BH=错误类型<br>BL=建议的操作<br>CH=错误场所</td></tr><tr><td>5AH</td><td>建立临时文件</td><td>CX=文件属性<br>DS:DX=ASCIIZ串地址</td><td>成功:AX=文件代号<br>失败:AX=错误码</td></tr><tr><td>5BH</td><td>建立新文件</td><td>CX=文件属性<br>DS:DX=ASCIIZ串地址</td><td>成功:AX=文件代号<br>失败:AX=错误码</td></tr><tr><td>5CH</td><td>控制文件存取</td><td>AL=00封锁<br>&emsp;=01开启<br>BX=文件代号<br>CX:DX=文件位移<br>SI:DI=文件长度</td><td>失败:AX=错误码</td></tr><tr><td>62H</td><td>取程序段前缀</td><td>&nbsp;</td><td>BX=PSP地址</td></tr></tbody>
</table></figure>
<h3>错误码</h3>
<p>CF=1失败！！AX=错误码</p>
<figure><table>
<thead>
<tr><th>错误码</th><th>错误类型</th><th>错误码</th><th>错误类型</th></tr></thead>
<tbody><tr><td>01H</td><td>无效功能号</td><td>0AH</td><td>不正确的环境</td></tr><tr><td>02H</td><td>文件未找到</td><td>0BH</td><td>不正确的格式</td></tr><tr><td>03H</td><td>路径未找到</td><td>0CH</td><td>无效的存取代码</td></tr><tr><td>04H</td><td>打开的文件太多</td><td>0DH</td><td>无效的数据</td></tr><tr><td>05H</td><td>拒绝存取</td><td>0EH</td><td>保留</td></tr><tr><td>06H</td><td>非法的文件号</td><td>0FH</td><td>指定的驱动器无效</td></tr><tr><td>07H</td><td>内存控制块破坏</td><td>10H</td><td>试图删除当前目录</td></tr><tr><td>08H</td><td>没有足够的内存空间</td><td>11H</td><td>非同一设备</td></tr><tr><td>09H</td><td>无效的内存块地址</td><td>12H</td><td>没有更多的文件</td></tr></tbody>
</table></figure>
<h3>字体及颜色属性</h3>
<figure><table>
<thead>
<tr><th>BIT</th><th>属性</th></tr></thead>
<tbody><tr><td>0~2</td><td>字体颜色(0:黑，1:蓝，2:青，4:红，5:紫，6:棕，7:白)</td></tr><tr><td>3</td><td>字体亮度(0:正常亮度，1:高亮度)</td></tr><tr><td>4~6</td><td>背景颜色(0:黑，1:蓝，2:青，4:红，5:紫，6:棕，7:白)</td></tr><tr><td>7</td><td>字体闪烁(0:不闪烁，1:闪烁)</td></tr></tbody>
</table></figure>
